!function(a){a.fn.tree=function(b){if(b===undefined||b===null)b={};var c={open_char:"&#9660;",close_char:"&#9658;",default_expanded_paths_string:"",only_one:false,animation:"slow"};var d={};a.extend(d,c,b);a.fn.save_paths=function(){var b=[],c=[],d=a(this).find("li span.open"),e=null;for(var f=0;f<d.length;f++){var g=a(d[f]).parents("ul").length-1;if(e==null&&g>0||g>e&&g-e>1)continue;var h=a(d[f]).parent().prevAll().length;if(e==null){c=[h]}else if(g<e){b.push(c.join("/"));var i=e-g;c.splice(c.length-i-1,i+1);c.push(h)}else if(g==e){b.push(c.join("/"));c.splice(c.length-1,1);c.push(h)}else if(g>e){c.push(h)}e=g}b.push(c.join("/"));var j=this.data("cookie");if(j===null)j="jtree-cookie";try{a.cookie(j,b.join(","))}catch(k){}};a.fn.restore_paths=function(){var b=null,c=this.data("cookie");if(c===null)c="jtree-cookie";try{b=a.cookie(c)}catch(e){}if(b===null||b===undefined)b=d.default_expanded_paths_string;if(b=="all"){a(this).find("span.jtree-arrow").open()}else{var f=b.split(",");for(var g=0;g<f.length;g++){var h=f[g].split("/"),i=a(this);for(var j=0;j<h.length;j++){i=a(i.children("li")[h[j]]);i.children("span.jtree-arrow").open();i=i.children("ul")}}}};a.fn.expand=function(b){b=b=="none"?undefined:!b?d.animation:b;elems=a(this).find(".jtree-arrow.close:first-child");elems.siblings("ul").find(".jtree-arrow.close").open(undefined);elems.open(b)};a.fn.collapse=function(b){b=b=="none"?undefined:!b?d.animation:b;a(this).find(".jtree-arrow").close(b)};a.fn.open=function(b){if(a(this).hasClass("jtree-arrow")){a(this).parent().children("ul").show(b);a(this).removeClass("close").addClass("open").html(d.open_char)}};a.fn.close=function(b){if(a(this).hasClass("jtree-arrow")){a(this).parent().children("ul").hide(b);a(this).removeClass("open").addClass("close").html(d.close_char)}};a.fn.click_event=function(){var b=a(this);if(b.hasClass("jtree-arrow")){b[b.hasClass("open")?"close":"open"](d.animation);if(d.only_one)b.closest("li").siblings().children("span.jtree-arrow").close(d.animation)}};for(var e=0;e<this.length;e++){if(this[e].tagName==="UL"){a(this[e]).find("li").has("ul").prepend('<span class="jtree-arrow close" style="cursor:pointer;">'+d.close_char+"</span>");a(this[e]).find("ul").hide();a(this[e]).restore_paths();a(this[e]).find("li > span.jtree-arrow").on("click",{tree:this[e]},function(b){a(this).click_event();a(b.data.tree).save_paths()});a(this[e]).find("li .jtree-button").on("click",{tree:this[e]},function(b){var c=a(this).closest("li").children("span.jtree-arrow");c.click_event();a(b.data.tree).save_paths()})}}}}(jQuery)